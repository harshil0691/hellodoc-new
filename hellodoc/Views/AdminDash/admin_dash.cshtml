@{
    ViewData["Title"] = "Patient dashboard";
}
@model hellodoc.DbEntity.ViewModels.RequestCountByStatus
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor


    <div class="login " id="main">
        <Partial name="_Notification" />

        <Partial name="_header">

        <ul class="nav nav-underline" style="margin-left:40px; margin-top:5px">
            <li class="nav-item mx-2">
                <a class="nav-link active" data-bs-toggle="pill" href="#dashboard">Dashboard</a>
            </li>
            <li class="nav-item mx-2">
                <a class="nav-link " data-bs-toggle="pill" href="#provider_location">Provider Location</a>
            </li>
            <li class="nav-item mx-2">
                <a class="nav-link " data-bs-toggle="pill" href="#myprofile">My Profile</a>
            </li>
            <li class="nav-item mx-2">
                <a class="nav-link " data-bs-toggle="pill" href="#provider">Providers</a>
            </li>
            <li class="nav-item mx-2">
                <a class="nav-link " data-bs-toggle="pill" href="#partner">Partners</a>
            </li>
            <li class="nav-item mx-2">
                <a class="nav-link " data-bs-toggle="pill" href="#access">Access</a>
            </li>
            <li class="nav-item mx-2">
                <a class="nav-link " data-bs-toggle="pill" href="#records">Records</a>
            </li>
        </ul>

        <!-- Tab panes -->
        <div class="tab-content">
            <div class="tab-pane active mt-3 position-absolute w-100" id="dashboard" style="background-color:#efefef;">

                <ul class="nav  mx-5"  id="myTabs">
                    <li class="nav-item col-4 col-sm-4 col-md-2  admin-btn ad-btn ad-btn1 ">
                        <a class="nav-link active p-3 m-2 " data-bs-toggle="pill" href="#new" style="width:100%">
                            <div>
                                <h3><i class="bi bi-person-plus pe-2"></i>New</h3>
                                <h5>@Model.NewCount</h5>
                            </div>
                        </a>
                    </li>
                    <li class="nav-item col-4 col-sm-4 col-md-2 admin-btn ad-btn ad-btn2">
                        <a class="nav-link m-2" data-bs-toggle="pill" href="#pending" style="width:100%">
                            <div>
                                <h3><i class="bi bi-person-workspace pe-2"></i>Pending</h3>
                                <h5>@Model.PendingCount</h5>
                            </div>
                        </a>
                    </li>
                    <li class="nav-item col-4 col-sm-4 col-md-2 admin-btn ad-btn ad-btn3">
                        <a class="nav-link m-2" data-bs-toggle="pill" href="#active" style="width:100%">
                            <div>
                                <h3><i class="bi bi-check2-circle pe-2"></i>Active</h3>
                                <h5>@Model.ActiveCount</h5>
                            </div>
                        </a>
                    </li>
                    <li class="nav-item col-4 col-sm-4 col-md-2 admin-btn ad-btn ad-btn4">
                        <a class="nav-link m-2" data-bs-toggle="pill" href="#conclude" style="width:100%">
                            <div>
                                <h3><i class="bi bi-clock pe-2"></i>Conclude</h3>
                                <h5>@Model.ConcludeCount</h5>
                            </div>
                        </a>
                    </li>
                    <li class="nav-item col-4 col-sm-4 col-md-2 admin-btn ad-btn ad-btn5">
                        <a class="nav-link m-2" data-bs-toggle="pill" href="#toclose" style="width:100%">
                            <div>
                                <h3><i class="bi bi-person-x pe-2"></i>To Close</h3>
                                <h5>@Model.TocloseCount</h5>
                            </div>
                        </a>
                    </li>
                    <li class="nav-item col-4 col-sm-4 col-md-2 admin-btn ad-btn  ad-btn6">
                        <a class="nav-link m-2" data-bs-toggle="pill" href="#unpaid" style="width:100%">
                            <div>
                                <h3><i class="bi bi-coin pe-2"></i>Unpaid</h3>
                                <h5>@Model.UnpaidCount</h5>
                            </div>
                        </a>
                    </li>
                </ul>

                <div class="tab-content" style="background-color:#efefef;margin-bottom:50px;">

                    <div class="tab-pane active m-2  mt-3" id="new">
                        
                    </div>

                    <div class="tab-pane mt-3" id="pending">
                        
                    </div>
                       
                    <div class="tab-pane mt-3" id="active">
                        
                    </div>

                    <div class="tab-pane mt-3" id="conclude">
                        
                    </div>

                    <div class="tab-pane mt-3" id="toclose">
                        
                    </div>

                    <div class="tab-pane mt-3" id="unpaid">
                        
                    </div>

                </div>

            </div>

            <div class="tab-pane container mt-3" id="provider_location">
                1
            </div>

            <div class="tab-pane container mt-3" id="myprofile">
                2
            </div>

            <div class="tab-pane container mt-3" id="provider">
                3
            </div>

            <div class="tab-pane container mt-3" id="partner">
            </div>

            <div class="tab-pane container mt-3" id="access">
            </div>

            <div class="tab-pane container mt-3" id="records">
            </div>

        </div>

    </div>
    <div id="partialContainer"></div>
    <footer style="position:fixed;bottom:0; width:100%;">
        <div style="padding-right: 40px;">
            <a href="" style="color: white;">Terms Of Conditions</a> |
            <a href="" style="color: white;">Privacy Policy</a>
        </div>
    </footer>

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

<script src="https://code.jquery.com/jquery-3.7.1.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.datatables.net/2.0.0/js/dataTables.js"></script>
<script src="https://cdn.datatables.net/2.0.0/js/dataTables.bootstrap5.js"></script>
<script>

    $(document).ready(function () {
        
        $('#myTabs a').on('shown.bs.tab', function (e) {
            var targetTab = $(e.target).attr('href').substring(1); 
            loadPartialView(targetTab);
        });

        
        loadPartialView("new");
    });

    function loadPartialView(tabId) {
        $.ajax({
            url: '/AdminDash/LoadPartialView',
            type: 'GET',
            data: { tabId: tabId },
            success: function (data) {

                $('#' + tabId).html(data);
                
               
            },
            error: function () {
                console.error('Error loading partial view.');
            }
        });
    }

    // $(document).ready(function () {
    //     $("#customSearch").on("keyup", function () {
    //         var value = $(this).val().toLowerCase();
    //         $("#newtable tr").filter(function () {
    //             $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
    //         });
    //     });
    // });

    //$(document).ready(function () {
    //    $("#searchInput1").on("keyup", function () {
    //        var searchTerm = $(this).val().toLowerCase();
    //        $("#NewTable tbody tr").each(function () {
    //            var rowName = $(this).find("td:first").text().toLowerCase();
    //            if (rowName.indexOf(searchTerm) < 0) {
    //                $(this).hide();
    //            } else {
    //                $(this).show();
    //            }
    //        });
    //    });
    //});

    function darkmode() {

        var element = document.body;
        console.log(element);

        if (element.dataset.bsTheme === "light") {
            element.dataset.bsTheme = "dark";
            document.getElementById("dashboard").style.backgroundColor = 'black';
            document.getElementById("bgcolor").style.backgroundColor = 'black';
            document.getElementById("newtable").style.backgroundColor = 'black';

        } else { 
            element.dataset.bsTheme = "light";
            document.getElementById("dashboard").style.backgroundColor = 'white';
            document.getElementById("bgcolor").style.backgroundColor = 'white';
        }
        console.log(element.dataset.bsTheme);
    }

    const phoneInputField = document.querySelector("#phone");
    const phoneInput = window.intlTelInput(phoneInputField, {
        utilsScript:
            "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
    });

</script>